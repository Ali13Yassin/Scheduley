<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scheduley</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/scheduleVisuals.css">
    <link rel="icon" type="image/x-icon" href="../assets/images/S.ico">
</head>
<body>
    <div id="navbar"></div>
<div id="all-container">
    <div id="center-container" style="display: block;">
        <!-- Import and data validation stage -->
        <div id="online-import-container" style="display: block;">
            <h2>Choose data from existing Universities</h2>
            <div id="SUT-online-import" class="course-card uni-card">ElSewedy University of Technology</div>
            <p>Your University isn't here?</p>
            <button id="upload-button">Upload your data instead</button>
        </div>
        <div id="upload-container" style="display: none;">
            <h2>How this works</h2>
            <p>Upload a valid csv file containing all the needed course data and we will find you the best schedules</p>
            <p>You can download the CSV template and fill it with your Universities data</p>
            <a href="../assets/data-template.csv">Download template</a><br>
            <input type="file" id="fileInput" accept=".csv">
            <button id="save-import-button">Next step</button>
            <p>Your University already here?</p>
            <button id="backto-online-import-button">Search for it instead!</button>
        </div>
        <!-- Course selection stage -->
        <div id="course-selection-container" style="display: none;">
            <h2>Choose your courses</h2>
            <div class="course-search-container">
                <input type="text" id="course-search-input" class="course-search-box" placeholder="Search by course code or name...">
            </div>
            <div class="grid-container" id="courseGrid"></div>
            <div class="nav-row">
                <button id="course-selection-back">Back</button>
                <button id="show-mycourse-details-button">Next</button>
            </div>
        </div>
        <!-- Course details selection menu -->
        <div id="mycourse-selection-container" style="display: none;">
            <h2>Choose a course to edit</h2>
            <div class="grid-container" id="mycourseGrid"></div>
            <div class="nav-row">
                <button id="mycourse-back">Back</button>
                <button id="show-filter-menu-button">Next</button>
            </div>
        </div>
        <!-- Course details menu -->
        <div id="course-details-container" style="display: none;">
            <h2>Edit course</h2>
            <p>Useful when a session has no seats available</p>
            <div class="container">
                <div id="left-panel" class="left-panel">
                    <input type="text" class="search-box" placeholder="Search courses...">
                </div>
        
                <div id="right-panel"></div>
                <div class="nav-row">
                    <button id="course-details-back">Back</button>
                    <button id="save-mycourse-details">Save</button>
                </div>
            </div>
        </div>
        <!-- Filters menu -->
         <div id="filter-selection-menu" style="display: none;">
            <h2>Filters</h2>
            <div id="filter-container">
                <div id="filter-1">
                    <h3>Number of days</h3>
                    <input type="radio" id="numOfDaysFilter-any-checkbox" name="numOfDays" value="any" checked>
                    <label for="numOfDaysFilter-any-checkbox">Any</label>
                    <input type="radio" id="numOfDaysFilter-1days-checkbox" name="numOfDays" value="1">
                    <label for="numOfDaysFilter-1days-checkbox">1 Day</label>
                    <input type="radio" id="numOfDaysFilter-2days-checkbox" name="numOfDays" value="2">
                    <label for="numOfDaysFilter-2days-checkbox">2 Days</label>
                    <input type="radio" id="numOfDaysFilter-3days-checkbox" name="numOfDays" value="3">
                    <label for="numOfDaysFilter-3days-checkbox">3 Days</label>
                    <input type="radio" id="numOfDaysFilter-4days-checkbox" name="numOfDays" value="4">
                    <label for="numOfDaysFilter-4days-checkbox">4 Days</label>
                    <input type="radio" id="numOfDaysFilter-5days-checkbox" name="numOfDays" value="5">
                    <label for="numOfDaysFilter-5days-checkbox">5 Days</label>
                </div>
                <div id="filter-2">
                    <h3>Have at least 1 hour gap</h3>
                    <input type="radio" id="findSchedulesWithGaps-false-checkbox" name="findSchedulesWithGaps" value="false" checked>
                    <label for="findSchedulesWithGaps-false-checkbox">Doesn't matter</label>
                    <input type="radio" id="findSchedulesWithGaps-true-checkbox" name="findSchedulesWithGaps" value="true">
                    <label for="findSchedulesWithGaps-true-checkbox">Yes</label>
                </div>
                <div id="filter-3">
                    <h3>Have labs after courses</h3>
                    <input type="radio" id="checkLabOrTutorialAfterLecture-false-checkbox" name="checkLabOrTutorialAfterLecture" value="false" checked>
                    <label for="checkLabOrTutorialAfterLecture-false-checkbox">Doesn't matter</label>
                    <input type="radio" id="checkLabOrTutorialAfterLecture-true-checkbox" name="checkLabOrTutorialAfterLecture" value="true">
                    <label for="checkLabOrTutorialAfterLecture-true-checkbox">Yes</label>
                </div>
                <div id="filter-4">
                    <h3>Remove days with 1 sessions</h3>
                    <input type="radio" id="removeSingleSessionDays-false-checkbox" name="removeSingleSessionDays" value="false" checked>
                    <label for="removeSingleSessionDays-false-checkbox">Doesn't matter</label>
                    <input type="radio" id="removeSingleSessionDays-true-checkbox" name="removeSingleSessionDays" value="true">
                    <label for="removeSingleSessionDays-true-checkbox">Yes</label>
                </div>
            </div>
            <div class="nav-row">
                <button id="filter-back">Back</button>
                <button id="processButton">Generate Schedule</button>
            </div>
         </div>
    </div>
    <div id="processOverlay">
        <div class="processMessage">
            <h2 id="process-title">Finding your Schedule</h2>
            <!-- <p id="process-text">Something went wrong. Please try again later.</p> -->
        </div>
    </div>
    <!-- Schedule confirmation menu -->
    <div id="schedule-details-container" style="display: none;">
        <div id="results-summary" class="nav-row" style="justify-content: space-between; align-items: center; gap: 12px;">
            <div>
                <strong id="total-schedules">Found 0 schedules</strong>
                <span id="current-index-label" style="margin-left:8px; color:#666;">â€“</span>
                <span id="active-filter-label" style="margin-left:12px; color:#2d6cdf;"></span>
            </div>
            <div id="day-off-groups" style="display:flex; flex-wrap: wrap; gap:6px; align-items:center;">
                <span style="opacity:0.8;">Day off:</span>
                <button id="dayoff-SUN" class="dayoff-btn" type="button">Sun off (0)</button>
                <button id="dayoff-MON" class="dayoff-btn" type="button">Mon off (0)</button>
                <button id="dayoff-TUE" class="dayoff-btn" type="button">Tue off (0)</button>
                <button id="dayoff-WED" class="dayoff-btn" type="button">Wed off (0)</button>
                <button id="dayoff-THU" class="dayoff-btn" type="button">Thu off (0)</button>
                <button id="clear-dayoff-filter" type="button">Clear</button>
            </div>
        </div>
        <div class="nav-row">
            <button id="back">Back</button>
            <button id="next">Next</button>
            <button id="schedule-stage-back">Back to filters</button>
        </div>
        <!-- Should be imported first -->
        <div id="schedule-container"></div>
        <button id="save-schedule-button">Save schedule</button>
    </div>
    <div id="errorOverlay">
        <div id="Errblur" class="errorMessage">
            <h2 id="alert-title">Error Occurred!</h2>
            <p id="alert-text">Something went wrong. Please try again later.</p>
            <button id="close-alert">Close</button>
        </div>
    </div>
</div>
    <div id="footer"></div>
    <script type="module" src="../js/scheduleFinderMain.js"></script>
</body>
</html>